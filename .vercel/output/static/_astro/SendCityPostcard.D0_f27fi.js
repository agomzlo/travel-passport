import{j as e}from"./jsx-runtime.7faW4zRM.js";import{L as g}from"./Loading.CCuUmMil.js";import p from"./ShowErrorToast._m0pOSlH.js";import"./index.DhYZZe0J.js";function j({user:s,users:d,city:t,country:r}){const i=new URLSearchParams(location.search).get("empty"),c=d.find(a=>a.name!==s.name),m=a=>{const x=document.getElementById("imageChoose"),l=document.getElementById("image"),n=a.target?.files?.[0];if(n){const o=new FileReader;o.onload=u=>{x.style.display="none",l.classList.remove("hidden"),l.src=u.target?.result},o.readAsDataURL(n)}};return onsubmit=()=>{const a=document.getElementById("loadingContainer");a.classList.remove("hidden"),a.classList.add("flex","flex-col","items-center","justify-center")},e.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center bg-white shadow-lg rounded-lg md:px-2",children:[e.jsx("h2",{className:"text-3xl font-bold my-6 text-black uppercase text-center",children:"Enviar Postal"}),e.jsxs("form",{method:"POST",action:"/api/send-city-postcard",className:"flex flex-col w-full gap-4 p-4",children:[e.jsxs("span",{className:"flex flex-row justify-center items-center w-full gap-4",children:[e.jsxs("label",{className:"w-full h-auto aspect-video flex flex-col justify-center items-center text-black border border-black rounded-lg cursor-pointer hover:bg-gray-100",htmlFor:"imageFile",children:[e.jsx("span",{id:"imageChoose",children:"Elige una imagen"}),e.jsx("img",{id:"image",src:"",alt:"",className:"max-w-[300px] h-auto aspect-video rounded-lg hidden"})]}),e.jsx("input",{className:"p-2 rounded-md border hidden",type:"file",id:"imageFile",name:"image",onChange:a=>m(a)})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"city",children:"Ciudad"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"city",name:"city",value:t.name,readOnly:!0}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"hidden",id:"country",name:"country",value:r,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"userFrom",children:"De"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"userFrom",name:"userFrom",value:s.name,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"userTo",children:"Para"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"userTo",name:"userTo",value:c.name,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"message",children:"Mensaje"}),e.jsx("textarea",{className:"p-2 rounded-md border bg-gray-100 text-gray-600 resize-none",id:"message",name:"message",rows:3,placeholder:"Escribe un mensaje"})]}),e.jsxs("span",{className:"flex flex-col",children:[i&&e.jsx("span",{className:"text-red-500 text-xs",children:"Debes rellenar todos los campos"}),e.jsxs("span",{className:"flex flex-row justify-around",children:[e.jsx("a",{href:`/country/${encodeURI(r)}/city/${encodeURI(t.name)}`,className:"w-32 text-red-500 text-center text-xl font-semibold border border-red-500 px-2 py-1 mt-4 rounded-lg transition-all hover:text-white hover:bg-red-500 hover:scale-105",children:"Atr√°s"}),e.jsx("button",{type:"submit",className:"w-32 text-black text-xl font-semibold border border-black px-2 py-1 mt-4 rounded-lg transition-all hover:text-white hover:bg-black hover:scale-105",children:"Enviar"})]})]})]}),e.jsx("div",{id:"loadingContainer",className:"absolute inset-0 bg-gray-500/25 rounded-lg hidden",children:e.jsx(g,{className:`w-24 h-24 ${s.name==="Alejandro"?"text-alejandro-primary":""} ${s.name==="Gema"?"text-gema-primary":""}`})}),e.jsx(p,{message:"Error al agregar el pais",paramError:"empty"})]})}export{j as default};
