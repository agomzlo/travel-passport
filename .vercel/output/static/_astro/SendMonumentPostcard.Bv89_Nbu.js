import{j as e}from"./jsx-runtime.7faW4zRM.js";import{L as p}from"./Loading.CCuUmMil.js";import h from"./ShowErrorToast._m0pOSlH.js";import"./index.DhYZZe0J.js";function w({user:t,users:i,city:s,country:r,monument:l}){const m=new URLSearchParams(location.search).get("empty"),c=i.find(a=>a.name!==t.name),x=a=>{const u=document.getElementById("imageChoose"),n=document.getElementById("image"),o=a.target?.files?.[0];if(o){const d=new FileReader;d.onload=g=>{u.style.display="none",n.classList.remove("hidden"),n.src=g.target?.result},d.readAsDataURL(o)}};return onsubmit=()=>{const a=document.getElementById("loadingContainer");a.classList.remove("hidden"),a.classList.add("flex","flex-col","items-center","justify-center")},e.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center bg-white shadow-lg rounded-lg px-2",children:[e.jsx("h2",{className:"text-3xl font-bold my-6 text-black uppercase text-center",children:"Enviar Postal"}),e.jsxs("form",{method:"POST",action:"/api/send-monument-postcard",className:"flex flex-col w-full gap-4 p-4",children:[e.jsxs("span",{className:"flex flex-row justify-center items-center w-full gap-4",children:[e.jsxs("label",{className:"w-full h-auto aspect-video flex flex-col justify-center items-center text-black border border-black rounded-lg cursor-pointer hover:bg-gray-100",htmlFor:"imageFile",children:[e.jsx("span",{id:"imageChoose",children:"Elige una imagen"}),e.jsx("img",{id:"image",src:"",alt:"",className:"max-w-[300px] h-auto aspect-video rounded-lg hidden"})]}),e.jsx("input",{className:"p-2 rounded-md border hidden",type:"file",id:"imageFile",name:"image",onChange:a=>x(a)})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"city",children:"Ciudad"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"city",name:"city",value:s.name,readOnly:!0}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"hidden",id:"country",name:"country",value:r,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"point",children:"Punto"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"point",name:"point",value:l.name,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"userFrom",children:"De"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"userFrom",name:"userFrom",value:t.name,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"userTo",children:"Para"}),e.jsx("input",{className:"p-2 rounded-md border bg-gray-100 text-gray-600",type:"text",id:"userTo",name:"userTo",value:c.name,readOnly:!0})]}),e.jsxs("span",{className:"flex flex-row justify-between items-center w-full gap-4",children:[e.jsx("label",{className:"text-black",htmlFor:"message",children:"Mensaje"}),e.jsx("textarea",{className:"p-2 rounded-md border bg-gray-100 text-gray-600 resize-none",id:"message",name:"message",rows:3,placeholder:"Escribe un mensaje"})]}),e.jsxs("span",{className:"flex flex-col",children:[m&&e.jsx("span",{className:"text-red-500 text-xs",children:"Debes rellenar todos los campos"}),e.jsxs("span",{className:"flex flex-row justify-around",children:[e.jsx("a",{href:`/country/${encodeURI(r)}/city/${encodeURI(s.name)}/monument/${encodeURI(l.name)}`,className:"w-32 text-red-500 text-center text-xl font-semibold border border-red-500 px-2 py-1 mt-4 rounded-lg transition-all hover:text-white hover:bg-red-500 hover:scale-105",children:"Atr√°s"}),e.jsx("button",{type:"submit",className:"w-32 text-black text-xl font-semibold border border-black px-2 py-1 mt-4 rounded-lg transition-all hover:text-white hover:bg-black hover:scale-105",children:"Enviar"})]})]})]}),e.jsx("div",{id:"loadingContainer",className:"absolute inset-0 bg-gray-500/25 rounded-lg hidden",children:e.jsx(p,{className:`w-24 h-24 ${t.name==="Alejandro"?"text-alejandro-primary":""} ${t.name==="Gema"?"text-gema-primary":""}`})}),e.jsx(h,{message:"Error al agregar el pais",paramError:"empty"})]})}export{w as default};
